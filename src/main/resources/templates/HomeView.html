<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<form th:replace="~{fragments/PageLayout.html :: head('Home')}"></form>
<body>
<form th:replace="~{fragments/PageLayout.html :: header}"></form>

<main>
    <header>
        <h1>âœˆï¸ Welcome to the Travel Forum</h1>
        <p>Share your travel stories, tips, and recommendations with fellow adventurers.</p>
    </header>

    <!-- Summary statistics -->
    <section>
        <h2>Platform Statistics</h2>
        <p>
            <strong>ğŸ‘¥ Total users:</strong>
            <span th:text="${totalUsers}">0</span>
        </p>
        <p>
            <strong>ğŸ“ Total posts:</strong>
            <span th:text="${totalPosts}">0</span>
        </p>
    </section>

    <!-- Authentication section -->
    <section>
        <h2>Your Account</h2>

        <!-- If user is not logged in -->
        <div th:if="${currentUser == null}">
            <p>
                <a th:href="@{/user/login}">ğŸ”‘ Log in</a>
                or
                <a th:href="@{/user/register}">ğŸ“‹ Register</a>
                to start posting.
            </p>
        </div>

        <!-- If user is logged in -->
        <div th:if="${currentUser != null}">
            <p>
                ğŸ‘‹ Logged in as:
                <strong th:text="${currentUser.username}">username</strong>
                (<span th:text="${currentUser.firstName}">First</span>
                <span th:text="${currentUser.lastName}">Last</span>)
            </p>
            <p>
                <a th:href="@{/user/logout}">ğŸšª Log out</a>
            </p>
        </div>
    </section>


    <!-- 10 most recent posts -->
    <section>
        <h2>Recent Posts</h2>

        <div th:if="${#lists.isEmpty(recentPosts)}">
            <p>No recent posts yet. Be the first to share your travel experience!</p>
        </div>

        <ul th:if="${!#lists.isEmpty(recentPosts)}">
            <li th:each="post : ${recentPosts}">
                <a th:href="@{|/posts/${post.id}|}"
                   th:text="${post.title}">Post title</a>
                <span class="text-muted"> â€” </span>
                <span class="text-muted">ğŸ• </span>
                <span class="text-muted" th:text="${post.createdAt == null ? '' : #temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}">2025-01-01 12:00</span>
            </li>
        </ul>
    </section>
</main>

<footer th:replace="~{fragments/PageLayout.html :: footer}"></footer>
</body>
</html>
<!--<body>-->
<!--<form th:replace="~{fragments/PageLayout :: header}"></form>-->

<!--<div class="body-content">-->
<!--    <h1>Welcome to the Forum</h1>-->
<!--    <p>Browse posts or sign in to participate.</p>-->

<!--    <p>-->
<!--        <a th:href="@{/posts}" class="ui-button">View Posts</a>-->
<!--        <a th:href="@{/user/login}" class="ui-button">Login</a>-->
<!--        <a th:href="@{/user/register}" class="ui-button">Register</a>-->
<!--    </p>-->
<!--</div>-->

<!--<div th:replace="fragments/PageLayout :: footer"></div>-->

<!--</body>-->
<!--</html>-->